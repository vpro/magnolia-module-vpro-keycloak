<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE module SYSTEM "module.dtd">
<module>
  <name>vpro-keycloak</name>
  <displayName>VPRO Magnolia Keycloak module</displayName>
  <class>nl.vpro.magnolia.module.keycloak.KeycloakModule</class>
  <versionHandler>nl.vpro.magnolia.module.keycloak.setup.KeycloakModuleVersionHandler</versionHandler>
  <version>1.7</version>
  <components>
    <id>main</id>
    <component>
      <type>nl.vpro.magnolia.module.keycloak.KeycloakService</type>
      <implementation>nl.vpro.magnolia.module.keycloak.KeycloakService</implementation>
      <scope>singleton</scope>
    </component>
    <component>
      <type>nl.vpro.magnolia.module.keycloak.session.SessionStore</type>
      <implementation>nl.vpro.magnolia.module.keycloak.session.HttpSessionInMemoryIdMapper</implementation>
      <scope>singleton</scope>
    </component>
    <component>
      <type>org.keycloak.adapters.spi.SessionIdMapper</type>
      <implementation>nl.vpro.magnolia.module.keycloak.session.HttpSessionInMemoryIdMapper</implementation>
      <scope>singleton</scope>
    </component>
    <component>
      <type>nl.vpro.magnolia.module.keycloak.session.PrincipalSessionStore</type>
      <implementation>nl.vpro.magnolia.module.keycloak.session.PrincipalSessionStore</implementation>
      <scope>singleton</scope>
    </component>
    <component>
      <type>nl.vpro.magnolia.module.keycloak.config.MagnoliaKeycloakConfigResolver</type>
      <implementation>nl.vpro.magnolia.module.keycloak.config.MagnoliaKeycloakConfigResolver</implementation>
      <scope>singleton</scope>
    </component>
  </components>
  <dependencies>
    <dependency>
      <name>core</name>
      <version>5.0/*</version>
    </dependency>
    <dependency>
      <name>cache</name>
      <version>5.0/*</version>
    </dependency>
  </dependencies>
</module>
